<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>SEL0359 - Controle Digital</title>

		<link rel="stylesheet" href="../dist/reset.css">
		<link rel="stylesheet" href="../dist/reveal.css">
		<link rel="stylesheet" href="../dist/theme/white.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
		
		<!-- and it's easy to individually load additional languages -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/arduino.min.js"></script>
		
		<script>hljs.highlightAll();</script>
		
		<link rel="stylesheet" href="../style.css">
	</head>
	<body>
		
		<div class="reveal">
			<div class="slides">
				
				<section data-hide-slide-number="true" data-transition="slide">
					<div class="logo"><img src="../images/sel.png"/> </div>
					<div class="logo2"><img src="../images/Logo EESC-USP_top.png"/> </div>
					<div class="title">
					<h2>Aula 7: <br>Projeto de Controladores na Frequência - parte 2</h2>
					</div>
					<div class="author">
					<h3>Prof. Marcos Rogério Fernandes</h3>
				</div>
					<div class="advisor">
					
					<p style="text-align: center;font-size: 0.8em;">18 de setembro de 2025</p>
				</div>

				</section>
				



				<section>
					<div class="slide-title">
						<h2>Ciclo do Projeto de Controle</h2>
					</div>
					<div class="slide-content">
						<center>
					<img src="../images/design_process.png" width="450"/>
				</center>
					</div>
	
				</section>

				

			<section>
			
			<div class="slide-title">
				<h2>Objetivos</h2>
			</div>
			<div class="slide-content">
				<p>Os objetivos dessa aula são entender:
						<ul>
						<li>Avanço/Atraso fase;</li>
						<li>Projeto PID;</li>
						<li>Métodos de otimização;</li>
						<li>Exemplos;</li>
					</p>
					</div>

		</section>


		
	
		<section>
			<div class="slide-title">
				<h2>Projeto de controladores na frequência</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<img src="../images/malha_controle_digital_zoh.png" width="950">
			
				</center>

			</div>

		</section>



		<section>
			<div class="slide-title">
				<h2>Projeto via Emulação</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<img src="../images/projeto_c2d.png" width="850">
			
				</center>

			</div>

		</section>



		
		<section>
			<div class="slide-title">
				<h2>Projeto direto em Z</h2>
			</div>
			<div class="slide-content">
				<center>
				<p>
					<img src="../images/projeto_path_d2d.png" width="450">
				</p>
				</center>

			</div>

		</section>


	
		
		<section>
			<div class="slide-title">
				<h2>Projeto direto em Z</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<img src="../images/malha_controle_digital_discretizacao.png" width="950">
			
				</center>

			</div>

		</section>


			
		<section>
			<div class="slide-title">
				<h2>Projeto direto em Z</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<img src="../images/malha_controle_digital_em_z.png" width="950">
			
				</center>

			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Critérios de desempenho</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<img src="../images/polos_dominantes_xi_wn.png" width="750">
			
				</center>

			</div>

		</section>


		

		<section>
			<div class="slide-title">
				<h2>Pólos dominantes de 2° ordem</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
				$$
					z_{1,2}=e^{s_{1,2}T}=re^{\pm j\theta}
				$$
			</p>
				com 
				$$
\begin{cases} 
r=e^{-T\xi \omega_n} \\
\theta=T\omega_n\sqrt{1-\xi^2}
\end{cases}
				$$
				
				</center>
			</div>

		</section>




		<section>
			<div class="slide-title">
				<h2>Estrutura de Controlador</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
				$$C(z)=K\frac{z-a}{z-b}
				$$
			</p> 
			<ul>
				<li><b>Compensador por avanço de fase:</b> melhora transitório;
				<p align="center">$-1< b < a < 1$</p>
				</li>
				<li><b>Compensador por atraso de fase:</b> melhor regime permanente;
					<p align="center">$-1< a < b < 1$</p>
				</li>
			</ul>
		
				
				</center>
			</div>

		</section>

		<section>
			<div class="slide-title">
				<h2>Estrutura de Controlador</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						Avanço e Atraso de fase
				$$C(z)=K\frac{z-a}{z-b}\frac{z-c}{z-d}
				$$
			</p> 
			<ul>
				<li><b>Compensador por avanço de fase:</b> melhora transitório;
				<p align="center">$-1< b < a < 1$</p>
				</li>
				<li><b>Compensador por atraso de fase:</b> melhor regime permanente;
					<p align="center">$-1< c < d < 1$</p>
				</li>
			</ul>
		
				
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Avanço de Fase</h2>
			</div>
			<div class="slide-content">
				<center>
			
			<img src="../images/avanco_fase_bode.png" width="800">
		
				
				</center>
			</div>

		</section>


		
			<section>
			<div class="slide-title">
				<h2>Atraso de Fase</h2>
			</div>
			<div class="slide-content">
				<center>
			
			<img src="../images/atraso_fase_bode.png" width="800">
		
				
				</center>
			</div>

		</section>

		<section>
			<div class="slide-title">
				<h2>Avanço e Atraso de Fase</h2>
			</div>
			<div class="slide-content">
				<center>
			
			<img src="../images/avanco_atraso_fase_bode.png" width="800">
		
				
				</center>
			</div>

		</section>



		


		<section>
			<div class="slide-title">
				<h2>Estrutura de Controlador</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						PID (Padrão):
				$$C(z)=K_p\Bigl(1+\frac{T_s}{2T_I}\frac{z+1}{z-1}+\frac{T_D}{T_s}\frac{z-1}{z}\Bigr)
				$$
			</p>
			$$

\begin{cases} 
K_P\to \text{Ganho proporcional}\\
T_I \to \text{Tempo integrativo}\\ 
T_D \to \text{Tempo derivativo}
\end{cases}
			$$
				
		
				
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>PID</h2>
			</div>
			<div class="slide-content">
				<center>
			
			<img src="../images/pid_bode.png" width="800">
		
				
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Estrutura de Controlador</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						Paramétrico:
				$$C(z)=\frac{b_mz^m+b_{m-1}z^{m-1}+\cdots+b_1z+b_0}{z^n+a_{n-1}z^{n-1}+\cdots+a_1z+a_0}
				$$
			</p>
			$$
			\{a_i\}_{i=0}^n,\quad \{b_i\}_{i=0}^m \to \text{parâmetros}
			$$
			Realizável:
			$$
			n\ge m
			$$
				
		
				
				</center>
			</div>

		</section>



		
		<section>
			<div class="slide-title">
				<h2>Malha Fechada</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
				$$G_f(z)=\frac{C(z)G(z)}{1+C(z)G(z)}
				$$
			</p>

			<b>Sintonia do compensador:</b>
			<ul>
				<li>Forma analítica;</li>
				<li>
				Lugar Geométrico das Raízes;
			</li>
		<li>Resposta em frequência (Diagrama de Bode);</li>
		<li>Algoritmos de otimização (Algoritmos genéticos, particle swarms, etc)</li>
		</ul>
	
				
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>

Equação característica:
					<p class="lightup">
		$$
				Q(z)=1+C(z)G(z)
		$$
		</p>
					
		Raízes (pólos de malha fechada): 
		$$
			z\in\mathbb{C}:	1+C(z)G(z)=0
		$$
		
				
				</center>
			</div>

		</section>



			<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>

Equação característica:
					<p class="lightup">
		$$
				Q(z)=1+C(z)G(z)
		$$
		</p>
					
	Raízes (pólos de malha fechada): 
		$$
			z\in\mathbb{C}:	C(z)G(z)=-1
		$$
		
				
				</center>
			</div>

		</section>

		


				
		<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					
					<b>Condições para que um ponto $z\in\mathbb{C}$ pertença ao LGR:</b>
					<p class="lightup">
					Condição de Módulo:
					
		$$
					|C(z)G(z)| = 1
		$$
		</p>
					
			<p class="lightup">
		Condição de fase:
		$$
					\angle C(z)G(z) = 180° (2k+1)
		$$
		</p>
				
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					
					Note que
					$$
					C(z)G(z)=\frac{N(z)}{D(z)}=\frac{|N(z)|e^{j\angle N(z)}}{|D(z)|e^{j\angle D(z)}}
					$$
				</center>
			</div>

		</section>


		
			<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					
					Note que
					$$
					C(z)G(z)=\frac{N(z)}{D(z)}=\frac{|N(z)|e^{j\angle N(z)}}{|D(z)|e^{j\angle D(z)}}
					$$
					Logo,
					$$
					\angle C(z)G(z)=\angle N(z)-\angle D(z)
					$$
				</center>
			</div>

		</section>

			<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					
					Note que
					$$
					C(z)G(z)=\frac{N(z)}{D(z)}=\frac{|N(z)|e^{j\angle N(z)}}{|D(z)|e^{j\angle D(z)}}
					$$
					Logo,
					$$
					\angle C(z)G(z)=\angle N(z)-\angle D(z)
					$$
					como
					$N(z)=(z-n_1)(z-n_2)\ldots(z-n_m)$ <Br>
						$D(z)=(z-p_1)(z-p_2)\ldots(z-p_n)$
				</center>
			</div>

		</section>


				
		<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					
					<b>Condições para que um ponto $z\in\mathbb{C}$ pertença ao LGR:</b>
					<p class="lightup">
					Condição de Módulo:
					
		$$
					|C(z)G(z)| = 1
		$$
		</p>
					
			<p class="lightup">
		Condição de fase:
		$$
					\sum \angle \text{zeros}-\sum\angle \text{pólos} = 180° (2k+1)
		$$
		</p>
				
				</center>
			</div>

		</section>

	
		

		<section>
			<div class="slide-title">
				<h2>Lugar Geométrico das Raízes</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<b>Procedimento:</b>
					
<ul>
<li>Escolha a localização dos pólos dominante em malha fechada do sistema conforme critérios de desempenho;</li>
<li>Escolha os pólos e zeros do controlador de forma a atender a condição de fase do LGR;</li>
<li>Escolha o ganho do controlador de forma a satisfazer a condição de módulo do LGR.</li>
</ul>
				
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
					$$
					G(s)=\frac{1}{s(s+1)}
					$$
					Deseja-se projetar um controlador em tempo discreto com $T_s=0.1s$ tal que os pólos dominantes de malha fechada possuam $\xi=0.7$ e $\omega_n=5$
					<p><b>1° passo:</b> equivalente discreto</p>
					$$
					G_d(z)=\mathcal{Z}\{\frac{1-e^{-sT_s}}{s}G(s)\}
					$$
				</center>
			</div>

		</section>

		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
					$$
					G(s)=\frac{1}{s(s+1)}
					$$
					Deseja-se projetar um controlador em tempo discreto com $T_s=0.1s$ tal que os pólos dominantes de malha fechada possuam $\xi=0.7$ e $\omega_n=5$
					<p><b>1° passo:</b> equivalente discreto</p>
					$$
					G_d(z)=\frac{0.004837(z+0.9672)}{(z-1)(z-0.9048)}
					$$
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<p><b>2° passo:</b> pólo dominante no plano-s</p>
					$$
					s_{1,2}=-\xi\omega_n\pm j\omega_n\sqrt{1-\xi^2}
					$$

					<p><b>3° passo:</b> mapeamento do pólo dominante para o plano-z</p>
					$$
					z_{1,2}=e^{s_{1,2}T}
					$$
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
					<p>&nbsp;</p>
					<p><b>2° passo:</b> pólo dominante no plano-s</p>
					$$
					s_{1,2}=-3.5\pm j3.57
					$$

					<p><b>3° passo:</b> mapeamento do pólo dominante para o plano-z</p>
					$$
					z_{1,2}=0.660\pm j 0.246
					$$
				</center>
			</div>

		</section>


		

		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>4° passo:</b> escolha da estrutura do controlador</p>
					$$
					C(z)=K\frac{z-a}{z-b}
					$$

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					<ul>
						<li>Satisfazer a condição de fase do LGR;</li>
						<li>Se $G_d(z)$ tiver pólos <b>assintóticamente estáveis</b>, então pode-se escolher os zeros do controlador de forma a cancelar esses pólos <b>assintóticamente estáveis</b>.</li>
						
					</ul>
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
Cancelamento do pólo assintoticamente estável de $G_d(z)$:
					$a=0.9048$ 
					$$
					C(z)=K\frac{z-0.9048}{z-b}
					$$

					Dessa forma,
					$$
					C(z)G_d(z) = \underbrace{K\frac{(z-0.9048)}{(z-b)}}_{C(z)}	\underbrace{\frac{0.004837(z+0.9672)}{(z-1)(z-0.9048)}}_{G_d(z)}
					$$
				
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
Cancelamento do pólo assintoticamente estável de $G_d(z)$:
					$a=0.9048$ 
					$$
					C(z)=K\frac{z-0.9048}{z-b}
					$$

					Dessa forma,
					$$
					C(z)G_d(z) = \frac{K}{(z-b)}\frac{0.004837(z+0.9672)}{(z-1)}
					$$
				
				</center>
			</div>

		</section>


		
		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					$$
					C(z)=K\frac{z-0.9048}{z-b}
					$$

					Condição de fase:
					$$
					\angle C(z_1)G_d(z_1) = \angle \Bigl(\frac{K}{(z_1-b)}\frac{0.004837(z_1+0.9672)}{(z_1-1)}\Bigr)=180°
					$$
				
				</center>
			</div>

		</section>


				
		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					$$
					C(z)=K\frac{z-0.9048}{z-b}
					$$

					Condição de fase:
					$$
					\angle(z_1+0.9672)-\angle (z_1-1)-\angle(z_1-b)=180°
					$$
				
				</center>
			</div>

		</section>

			<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					$$
					C(z)=K\frac{z-0.9048}{z-b}
					$$

					Condição de fase:
					$$
					\theta-\phi-\alpha=180°
					$$
					com 
					$$
					\theta=\angle (z_1+0.9672),	\phi=\angle (z_1-1),\alpha=\angle (z_1-b)
				$$
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
					<img src="../images/projeto_cond_fase.png" width="900">
					<p class="lightup">
				$
					\theta-\phi-\alpha=180°
				$
			</p>
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
					<img src="../images/projeto_cond_fase.png" width="900">
					<p class="lightup">
				$
					\alpha=\theta-\phi-180°
				$
			</p>
				</center>
			</div>

		</section>

		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
				$$
					\theta=\angle (z_1+0.9672)\\
					\phi=\angle (z_1-1)\\
					\alpha=\angle (z_1-b)
				$$
				Portanto,
				$$
				\theta=\angle(-0.3072+j0.246)\approx 8.6°\\
				\phi = \angle(-0.3398+j0.246)\approx 144°\\
				\alpha=\theta-\phi-180°\approx -315.4°
			$$
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
			$$
			\alpha=\angle (z_1-b)=\arctan\Bigl(\frac{imag(z_1-b)}{real(z_1-b)}\Bigr)
			$$
				</center>
			</div>

		</section>

			<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
			$$
			\alpha=\angle (z_1-b)=\arctan\Bigl(\frac{imag(z_1-b)}{real(z_1-b)}\Bigr)
			$$
			Então,
			$$
					\tan(\alpha)=\frac{imag(z_1-b)}{real(z_1-b)}
			$$
			com $b\in\mathbb{R}$
				</center>
			</div>

		</section>


				<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
			$$
			\alpha=\angle (z_1-b)=\arctan\Bigl(\frac{imag(z_1-b)}{real(z_1-b)}\Bigr)
			$$
			Então,
			$$
					\tan(\alpha)=\frac{imag(z_1)}{real(z_1)-b}
			$$
			com $b\in\mathbb{R}$
				</center>
			</div>

		</section>


		
				<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
			$$
			\alpha=\angle (z_1-b)=\arctan\Bigl(\frac{real(z_1-b)}{imag(z_1-b)}\Bigr)
			$$
			Portanto,
			<p class="lightup">
			$$
					b=real(z_1)-\frac{imag(z_1)}{\tan(\alpha)}
			$$
			</p>
				</center>
			</div>

		</section>


				<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>
			$$
			\alpha=\angle (z_1-b)=\arctan\Bigl(\frac{real(z_1-b)}{imag(z_1-b)}\Bigr)
			$$
			Portanto,
			<p class="lightup">
			$$
					b=0.41
			$$
			</p>
				</center>
			</div>

		</section>





	


		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					$$
					C(z)=K\frac{z-0.9048}{z-0.41}
					$$

					
					<p><b>6° passo:</b> escolha do ganho do controlador</p>
					$$
\Bigl|\frac{K}{z_1-0.41}\frac{0.004837(z_1+0.9672)}{z_1-1}\Bigr|=1
					$$
				
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					$$
					C(z)=K\frac{z-0.9048}{z-0.41}
					$$

					
					<p><b>6° passo:</b> escolha do ganho do controlador</p>
					$$
\frac{K\Bigl| 0.004837(z_1+0.9672)\Bigr |}{\Bigl|(z_1-0.41)(z_1-1)\Bigr|}=1
					$$
					
				</center>
			</div>

		</section>


					<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					$$
					C(z)=K\frac{z-0.9048}{z-0.41}
					$$

					
					<p><b>6° passo:</b> escolha do ganho do controlador</p>
					$$
K=\frac{\Bigl|(z_1-0.41)(z_1-1)\Bigr|}{\Bigl| 0.004837(z_1+0.9672)\Bigr |}
					$$
					
				</center>
			</div>

		</section>


						<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>5° passo:</b> escolha dos pólos e zeros do controlador</p>
					$$
					C(z)=K\frac{z-0.9048}{z-0.41}
					$$

					
					<p><b>6° passo:</b> escolha do ganho do controlador</p>
					$$
K=18.5076
					$$
					
				</center>
			</div>

		</section>


		
		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>Controlador projetado:</b></p>
					<p class="lightup">
					$$
					C(z)=18.5076\frac{z-0.9048}{z-0.41}
					$$
				</p>
				<p>
				<b>Próximas etapas:</b>
			</p>
				<ul>
					<li>Implementação</li>
					<li>Testes</li>
				</ul>

				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Exemplo:</h2>
			</div>
			<div class="slide-content">
				<center>

					<p><b>Controlador projetado:</b></p>
					<p class="lightup">
					$$
					\frac{U(z)}{E(z)}=18.5076\frac{1-0.9048z^{-1}}{1-0.41z^{-1}}
					$$
				</p>
				<p>
				<b>Próximas etapas:</b>
			</p>
				<ul>
					<li>Implementação</li>
					<li>Testes</li>
				</ul>

				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Implementação Digital:</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
					$$
					u[k]=0.41u[k-1]+18.5076(e[k]-0.9048e[k-1])
					$$
				</p>
				<p>Escrever software em uma linguagem como C, C++, etc para colocar em um microcontrolador!</p>
				<img src="../images/arduino.png" width="250"><img src="../images/esp32.webp" width="230"><img src="../images/pic.avif" width="300">
				

				</center>
			</div>

		</section>


		
		<section>
			<div class="slide-title">
				<h2>Exemplo de Implementação:</h2>
			</div>
			<div class="slide-content">
				<p align="center">Arduino:</p>
				<pre><code class="language-arduino">
					void sampling() {
						r=1; //set-point
						y=analogRead(input_pin); //le saida do sistema 
						erro=r-y; //obtem sinal de erro 
						u=0.41*u_anterior+18.5076*(erro-0.9048*erro_anterior); //controle
						erro_anterior=erro; 	//atualiza erro p/ proxima iteracao
						u_anterior=u; 	//atualiza u p/ proxima iteracao
						analogWrite(output_pin,u); //atualiza saida
					  }
					  </code></pre>
			</div>

		</section>

		<section>
			<div class="slide-title">
				<h2>Controle PID (Padrão):</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						u(t)=K_P\Bigl(e(t)+\frac{1}{T_I}\int_0^t e(\tau)d\tau+T_D\frac{de(t)}{dt}\Bigr)
						$$
						</p>
					<img src="../images/pid_continuo.png" width="650">
	
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID (Paralelo):</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						u(t)=K_pe(t)+K_i\int_0^t e(\tau)d\tau+K_d\frac{de(t)}{dt}
						$$
						</p>
					<img src="../images/pid_continuo.png" width="650">
	
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID:</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						U(s)=K_pE(s)+K_i\frac{E(s)}{s}+K_dsE(s)
						$$
						</p>
					<img src="../images/pid_continuo.png" width="650">
	
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID:</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						C(s)=\frac{U(s)}{E(s)}=K_p+\frac{K_i}{s}+K_ds
						$$
						</p>
					<img src="../images/pid_continuo.png" width="650">
	
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID (Euler-Backward):</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						C(z)=\frac{U(z)}{E(z)}=K_p+K_i\frac{zT_s}{z-1}+K_d\frac{z-1}{zT_s}
						$$
						</p>
					<img src="../images/pid_discreto.png" width="650">
	
				</center>
			</div>

		</section>


				<section>
			<div class="slide-title">
				<h2>Controle PID (Euler-Backward):</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						C(z)=\frac{U(z)}{E(z)}=K_p+K_i\frac{T_s}{1-z^{-1}}+K_d\frac{1-z^{-1}}{T_s}
						$$
						</p>
					<img src="../images/pid_discreto.png" width="650">
	
				</center>
			</div>

		</section>



		<section>
			<div class="slide-title">
				<h2>Controle PID (Euler-Backward):</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						u[k]=u_P[k]+u_I[k]+u_D[k]
						$$
						</p>
					$$
					\begin{aligned}
u_P[k]&=K_pe[k]\\
u_I[k]&=u_I[k-1]+K_iT_se[k]\\
u_D[k]&=\frac{K_d}{T_s}(e[k]-e[k-1])
\end{aligned}
					$$
	
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID (Euler-Backward):</h2>
			</div>
			<div class="slide-content">
				<p align="center">Arduino:</p>
				<pre><code class="language-arduino">
					void sampling() {
						r=1; //set-point
						y=analogRead(input_pin); //le saida do sistema 
						erro=r-y; //obtem sinal de erro 
						up=Kp*erro;  // termo proporcional
						ui=ui+Ki*Ts*erro; // termo integrativo
						ud=Kd/Ts*(erro-erro_anterior);  //termo derivativo
						u=up+ui+ud; //sinal de controle
						erro_anterior=erro; 	//atualiza erro p/ proxima iteracao
						analogWrite(output_pin,u); //atualiza saida
					  }
					  </code></pre>
			</div>

		</section>



		<section>
			<div class="slide-title">
				<h2>Controle PID (Integrador via Tustin):</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						C(z)=\frac{U(z)}{E(z)}=K_p+\frac{K_iT_s}{2}\frac{z+1}{z-1}+K_d\frac{z-1}{zT_s}
						$$
						</p>
					<img src="../images/pid_discreto.png" width="650">
	
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID (Integrador via Tustin):</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						u[k]=u_P[k]+u_I[k]+u_D[k]
						$$
						</p>
						$$
					\begin{aligned}
u_P[k]&=K_pe[k]\\
u_I[k]&=u_I[k-1]+K_iT_s\Bigl(\frac{e[k]+e[k-1]}{2}\Bigr)\\
u_D[k]&=\frac{K_p}{T_s}(e[k]-e[k-1])
				\end{aligned}
	$$
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID (Integrador via Tustin):</h2>
			</div>
			<div class="slide-content">
				<p align="center">Arduino:</p>
				<pre><code class="language-arduino">
						void sampling() {
						r=1; //set-point
						y=analogRead(input_pin); //le saida do sistema 
						erro=r-y; //obtem sinal de erro 
						up=Kp*erro;  // termo proporcional
						ui=ui+Ki*Ts*(erro+erro_anterior)/2; // termo integrativo
						ud=Kd/Ts*(erro-erro_anterior);  //termo derivativo
						u=up+ui+ud; //sinal de controle
						erro_anterior=erro; 	//atualiza erro p/ proxima iteracao
						analogWrite(output_pin,u); //atualiza saida
					  }
					  </code></pre>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID: derivador amplifica ruido</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						C(s)=\frac{U(s)}{E(s)}=K_p+\frac{K_i}{s}+K_ds
						$$
						</p>
					<img src="../images/pid_continuo.png" width="650">
	
				</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>Controle PID c/ filtro derivativo:</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						C(s)=\frac{U(s)}{E(s)}=K_p+\frac{K_i}{s}+K_ds H(s)
						$$
						</p>
					<img src="../images/pid_continuo_filtro_derivativo.png" width="650">
	
				</center>
			</div>

		</section>



		<section>
			<div class="slide-title">
				<h2>Controle PID c/ filtro derivativo:</h2>
			</div>
			<div class="slide-content">
				<center>
					<p class="lightup">
						$$
						C(s)=\frac{U(s)}{E(s)}=K_p+\frac{K_i}{s}+\frac{K_ds}{\frac{K_d}{N}s+1}
						$$
						</p>
					<img src="../images/pid_continuo_filtro_derivativo.png" width="650">
	
				</center>
			</div>

		</section>



		<section>
			<div class="slide-title">
				<h2>Otimização</h2>
			</div>
			<div class="slide-content">
			$$
				x^*=\arg\min_x J(x)
			$$
			<center>
			<img src="../images/surf_peaks.gif" width="900">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO.png" width="900">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO2.png" width="900">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO3.png" width="900">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO4.png" width="900">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO5.png" width="900">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO6.png" width="900">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO_peaks.gif" width="1300">
		</center>
			</div>

		</section>


		<section>
			<div class="slide-title">
				<h2>PSO: Particle Swarm Optimization</h2>
			</div>
			<div class="slide-content">
			<center>
			<img src="../images/PSO_surf_peaks.gif" width="900">
		</center>
			</div>

		</section>


		
			<section>
			<div class="slide-title">
				<h2>Saturação do atuador:</h2>
			</div>
			<div class="slide-content">
				<center>
				$$
				u_\text{min} \le u[k] \le u_\text{max}
				$$
				<img src="../images/u_saturacao.png" width="800">
				</center>
			</div>

		</section>


		
		
		<section>
			<div class="slide-title">
				<h2>Controle PID c/ anti-windup:</h2>
			</div>
			<div class="slide-content">
				<p align="center">Arduino:</p>
				<pre><code class="language-arduino">
					void sampling() {
						r=1; //set-point
						y=analogRead(input_pin); //le saida do sistema 
						erro=r-y; //obtem sinal de erro 
						if (ui >u_max) {
							ui=u_max;
						}else if (ui < u_mim ){
							ui=ui_min;
						}
						up=K*erro;  // termo proporcional
						ui=ui+Ki*Ts*erro; // termo integrativo c/ anti-windup
						ud=Kd/Ts*(erro-erro_anterior);  //termo derivativo
						u=up+ui+ud; //sinal de controle
						erro_anterior=erro; 	//atualiza erro p/ proxima iteracao
						analogWrite(output_pin,u); //atualiza saida
					  }
					  </code></pre>
			</div>

		</section>

			<section>
			<div class="slide-title">
				<h2>Controle PID s/ anti-windup:</h2>
			</div>
			<div class="slide-content">
				<center>
			<img src="../images/temperatura_sem_antiwindup.png" width="800">	
				</center>
			</div>

		</section>


			<section>
			<div class="slide-title">
				<h2>Controle PID c/ anti-windup:</h2>
			</div>
			<div class="slide-content">
				<center>
			<img src="../images/temperatura_com_antiwindup.png" width="800">	
			</center>
			</div>

		</section>




			<section>
				<div class="slide-title">
					<h2>Próxima aula teórica</h2>
				</div>
				<div class="slide-content">
					<center>
						<p>Projeto em Espaço de estados - parte 1</p>
						<img src="../images/state_observer.png" width="600" alt="">
					</center>
				</div>

			</section>



			


			<section>
		
				<div class="slide-content">
					<center>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
						<p>&nbsp;</p>
					<h2>Até a próxima aula!</h2>
				</center>
				</div>

			</section>

			




				<!------------------------>
			</div>
		</div>

		

		<script src="../dist/reveal.js"></script>
		<script src="../plugin/notes/notes.js"></script>
		<script src="../plugin/markdown/markdown.js"></script>
		<script src="../plugin/math/math.js"></script>
		<script src="../init.js"></script>
	</body>
</html>

